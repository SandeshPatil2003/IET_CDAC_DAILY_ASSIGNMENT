package com.j.test;

import java.util.List;
import java.util.Scanner;

import com.j.beans.Product;
import com.j.dao.DBUtil;
import com.j.service.ProductService;
import com.j.service.ProductServiceImpl;

public class TestMain {

	public static void main(String[] args) {
		
		
		Scanner sc = new Scanner(System.in);
		
		
		ProductService pservice = new ProductServiceImpl();
		
		
		byte choice=0;
		
		do {
			
			System.out.println("MENU");
			System.out.println("1.Add product");
			System.out.println("2.Display all product");
			System.out.println("3.Display a product");
			System.out.println("4.Edit a product");
			System.out.println("5.Delete a product");
			System.out.println("6.Exit");
			System.out.print("ENTER CHOICE :");
			
			choice= sc.nextByte();
			
			switch(choice)
			{
			
			case 1->{
				
				System.out.println("Enter the details for the product :");
				
				boolean status = pservice.addProduct(sc);
				
				if(status)
				{
					System.out.println("PRODUCT added successfully");
				}
				else {
					
					System.out.println("PRODUCT  NOT added successfully");
					
				}
				
				
				
			}
			
			case 2->{
				
				
				List <Product> plist=pservice.displayALL();
				
				if(plist!=null) {
					
					plist.forEach(System.out::println);
				}
				else {
					
					System.out.println("Error is displaying");
				}
				
				
				
			}
			
			case 3->{
				
				
				System.out.println("Enter product id");
				int pid=sc.nextInt();
				
				Product p = pservice.findById(pid);
				if(p!=null) {
					
					System.out.println(p);
				}
				else {
					
					System.out.println("Error is displaying / not found");
				}
				
				
				
			}
			
			case 4->{
				
				
				System.out.println("Enter product id to Edit");
				int pid=sc.nextInt();
				
				boolean status = pservice.editById(pid);
				if(status) {
					
					System.out.println(p);
				}
				else {
					
					System.out.println("Error is displaying / not found");
				}
				
				
				
			}


			case 5->{
	
	
	System.out.println("Enter product id");
	int pid=sc.nextInt();
	
	Product p = pservice.findById(pid);
	if(p!=null) {
		
		System.out.println(p);
	}
	else {
		
		System.out.println("Error is displaying / not found");
	}
	
	
	
}
			
			case 6->{
				
				sc.close();
				DBUtil.closeMyConnection();
				System.out.println("Exiting");
				
			}
			
			
			
			
			
			}
			
			
			
		}
		while(choice!=6);
		
		
	}

}
